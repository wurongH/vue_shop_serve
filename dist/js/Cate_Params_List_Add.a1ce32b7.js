(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cate_Params_List_Add"],{"02f4":function(e,t,a){var r=a("4588"),n=a("be13");e.exports=function(e){return function(t,a){var s,i,o=String(n(t)),l=r(a),c=o.length;return l<0||l>=c?e?"":void 0:(s=o.charCodeAt(l),s<55296||s>56319||l+1===c||(i=o.charCodeAt(l+1))<56320||i>57343?e?o.charAt(l):s:e?o.slice(l,l+2):i-56320+(s-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var r=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},"0a49":function(e,t,a){var r=a("9b43"),n=a("626a"),s=a("4bf8"),i=a("9def"),o=a("cd1c");e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,u=4==e,d=6==e,m=5==e||d,p=t||o;return function(t,o,g){for(var f,h,b=s(t),v=n(b),_=r(o,g,3),y=i(v.length),w=0,x=a?p(t,y):l?p(t,0):void 0;y>w;w++)if((m||w in v)&&(f=v[w],h=_(f,w,b),e))if(a)x[w]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return w;case 2:x.push(f)}else if(u)return!1;return d?-1:c||u?u:x}}},"0bfb":function(e,t,a){"use strict";var r=a("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1169:function(e,t,a){var r=a("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"1d45":function(e,t,a){"use strict";var r=a("420b"),n=a.n(r);n.a},"20d6":function(e,t,a){"use strict";var r=a("5ca1"),n=a("0a49")(6),s="findIndex",i=!0;s in[]&&Array(1)[s](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},2104:function(e,t,a){},"214f":function(e,t,a){"use strict";a("b0c5");var r=a("2aba"),n=a("32e9"),s=a("79e5"),i=a("be13"),o=a("2b4c"),l=a("520a"),c=o("species"),u=!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var m=o(e),p=!s(function(){var t={};return t[m]=function(){return 7},7!=""[e](t)}),g=p?!s(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[c]=function(){return a}),a[m](""),!t}):void 0;if(!p||!g||"replace"===e&&!u||"split"===e&&!d){var f=/./[m],h=a(i,m,""[e],function(e,t,a,r,n){return t.exec===l?p&&!n?{done:!0,value:f.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}),b=h[0],v=h[1];r(String.prototype,e,b),n(RegExp.prototype,m,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"28a5":function(e,t,a){"use strict";var r=a("aae3"),n=a("cb7c"),s=a("ebd6"),i=a("0390"),o=a("9def"),l=a("5f1b"),c=a("520a"),u=a("79e5"),d=Math.min,m=[].push,p="split",g="length",f="lastIndex",h=4294967295,b=!u(function(){RegExp(h,"y")});a("214f")("split",2,function(e,t,a,u){var v;return v="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[g]||2!="ab"[p](/(?:ab)*/)[g]||4!="."[p](/(.?)(.?)/)[g]||"."[p](/()()/)[g]>1||""[p](/.?/)[g]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return a.call(n,e,t);var s,i,o,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?h:t>>>0,b=new RegExp(e.source,u+"g");while(s=c.call(b,n)){if(i=b[f],i>d&&(l.push(n.slice(d,s.index)),s[g]>1&&s.index<n[g]&&m.apply(l,s.slice(1)),o=s[0][g],d=i,l[g]>=p))break;b[f]===s.index&&b[f]++}return d===n[g]?!o&&b.test("")||l.push(""):l.push(n.slice(d)),l[g]>p?l.slice(0,p):l}:"0"[p](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,r){var n=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,n,r):v.call(String(n),a,r)},function(e,t){var r=u(v,e,this,t,v!==a);if(r.done)return r.value;var c=n(e),m=String(this),p=s(c,RegExp),g=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),_=new p(b?c:"^(?:"+c.source+")",f),y=void 0===t?h:t>>>0;if(0===y)return[];if(0===m.length)return null===l(_,m)?[m]:[];var w=0,x=0,C=[];while(x<m.length){_.lastIndex=b?x:0;var k,F=l(_,b?m:m.slice(x));if(null===F||(k=d(o(_.lastIndex+(b?0:x)),m.length))===w)x=i(m,x,g);else{if(C.push(m.slice(w,x)),C.length===y)return C;for(var $=1;$<=F.length-1;$++)if(C.push(F[$]),C.length===y)return C;x=w=k}}return C.push(m.slice(w)),C}]})},"2e08":function(e,t,a){var r=a("9def"),n=a("9744"),s=a("be13");e.exports=function(e,t,a,i){var o=String(s(e)),l=o.length,c=void 0===a?" ":String(a),u=r(t);if(u<=l||""==c)return o;var d=u-l,m=n.call(c,Math.ceil(d/c.length));return m.length>d&&(m=m.slice(0,d)),i?m+o:o+m}},3686:function(e,t,a){"use strict";a("f576"),a("28a5"),a("4917"),a("7f7f");var r={arrayContains:function(e,t){if(t instanceof Array){for(var a in t)if(e==t[a])return!0;return!1}return!1},contains:function(e,t){var a=e.length;while(a--)if(e[a]===t)return!0;return!1},ergodic:function(e,t){for(var a=[],n=0;n<e.length;n++)a.push(e[n]["name"]),void 0!==e[n].children&&(a=a.concat(r.ergodic(e[n].children)));return a},isTelephone:function(e){return!(!e||!/^0?1[3|4|5|6|7|8|9][0-9]{9}$/.test(e))},isSeatNumber:function(e){return!(!e||!/^0\d{2,3}-\d{7,8}$/.test(e))},isEmail:function(e){return!(!e||!/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e))},isWebsite:function(e){return!(!e||!/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#\/%?=~_|!:,.;]+[-A-Za-z0-9+&@#\/%=~_|]/.test(e))}},n={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};function s(e){var t=/(^\d{15}$)|(^\d{17}(\d|X)$)/;return!1!==t.test(e)}function i(e){var t=e.substr(0,2);return void 0!==n[t]}function o(e){var t=e.length;if("15"==t){var a=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/,r=e.match(a),n=r[2],s=r[3],i=r[4],o=new Date("19"+n+"/"+s+"/"+i);return l("19"+n,s,i,o)}if("18"==t){var c=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;r=e.match(c),n=r[2],s=r[3],i=r[4],o=new Date(n+"/"+s+"/"+i);return l(n,s,i,o)}return!1}function l(e,t,a,r){var n=new Date,s=n.getFullYear();if(r.getFullYear()==e&&r.getMonth()+1==t&&r.getDate()==a){var i=s-e;return i>=0&&i<=200}return!1}function c(e){e=u(e);var t=e.length;if("18"==t){var a,r,n=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),s=new Array("1","0","X","9","8","7","6","5","4","3","2"),i=0;for(a=0;a<17;a++)i+=e.substr(a,1)*n[a];return r=s[i%11],r==e.substr(17,1)}return!1}function u(e){if("15"==e.length){var t,a=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),r=new Array("1","0","X","9","8","7","6","5","4","3","2"),n=0;for(e=e.substr(0,6)+"19"+e.substr(6,e.length-6),t=0;t<17;t++)n+=e.substr(t,1)*a[t];return e+=r[n%11],e}return e}r.checkIDCard=function(e){return""!==e&&(!1!==s(e)&&(!1!==i(e)&&(!1!==o(e)&&!1!==c(e))))},r.jsGetAge=function(e){if(!e)return"";var t,a=e.split("-"),r=a[0],n=a[1],s=a[2],i=new Date,o=i.getFullYear(),l=i.getMonth()+1,c=i.getDate();if(o==r)t=0;else{var u=o-r;if(u>0)if(l==n){var d=c-s;t=d<0?u-1:u}else{var m=l-n;t=m<0?u-1:u}else t=-1}return t},r.Format=function(e){var t=new Date(e),a=t.getFullYear(),r=(t.getMonth()+1+"").padStart(2,"0"),n=(t.getDate()+"").padStart(2,"0"),s=(t.getHours()+"").padStart(2,"0"),i=(t.getMinutes()+"").padStart(2,"0"),o=(t.getSeconds()+"").padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n," ").concat(s,":").concat(i,":").concat(o)},r.compareTime=function(e,t){var a=Date.parse(e)-Date.parse(t);return a<0?"small":a>0?"big":0==a?"same":"exception"},r.dataLength=function(e){for(var t=0,a=0;a<e.length;a++)e.charCodeAt(a)<0||e.charCodeAt(a)>255?t+=2:t+=1;return t},r.extend=function(e,t){for(var a in t)e[a]=t[a];return e},t["a"]=r},"420b":function(e,t,a){},4917:function(e,t,a){"use strict";var r=a("cb7c"),n=a("9def"),s=a("0390"),i=a("5f1b");a("214f")("match",1,function(e,t,a,o){return[function(a){var r=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=o(a,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return i(l,c);var u=l.unicode;l.lastIndex=0;var d,m=[],p=0;while(null!==(d=i(l,c))){var g=String(d[0]);m[p]=g,""===g&&(l.lastIndex=s(c,n(l.lastIndex),u)),p++}return 0===p?null:m}]})},"520a":function(e,t,a){"use strict";var r=a("0bfb"),n=RegExp.prototype.exec,s=String.prototype.replace,i=n,o="lastIndex",l=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[o]||0!==t[o]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(i=function(e){var t,a,i,u,d=this;return c&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),l&&(t=d[o]),i=n.call(d,e),l&&i&&(d[o]=d.global?i.index+i[0].length:t),c&&i&&i.length>1&&s.call(i[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),e.exports=i},"5f1b":function(e,t,a){"use strict";var r=a("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var s=a.call(e,t);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"5f2a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),a("el-steps",{attrs:{space:200,active:1*e.activeIndex,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px","label-position":"top"}},[a("el-tabs",{attrs:{"tab-position":"left","before-leave":e.beforeTabLeave},on:{"tab-click":e.tabClicked},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[a("el-input",{directives:[{name:"enter-number",rawName:"v-enter-number"}],attrs:{size:"small",type:"number",oninput:"value.length>8?value=value.slice(0,8):''"},model:{value:e.addForm.goods_price,callback:function(t){e.$set(e.addForm,"goods_price",t)},expression:"addForm.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{directives:[{name:"enter-number",rawName:"v-enter-number"}],attrs:{size:"small",type:"number",oninput:"value.length>8?value=value.slice(0,8):''"},model:{value:e.addForm.goods_weight,callback:function(t){e.$set(e.addForm,"goods_weight",t)},expression:"addForm.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[a("el-input",{directives:[{name:"enter-number",rawName:"v-enter-number"}],attrs:{size:"small",type:"number",oninput:"value.length>8?value=value.slice(0,8):''"},model:{value:e.addForm.goods_number,callback:function(t){e.$set(e.addForm,"goods_number",t)},expression:"addForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"goods_cat"}},[a("el-cascader",{attrs:{size:"small",expandTrigger:"hover",options:e.cateList,props:e.cateProps},on:{change:e.handleChange},model:{value:e.addForm.goods_cat,callback:function(t){e.$set(e.addForm,"goods_cat",t)},expression:"addForm.goods_cat"}})],1),a("el-button",{attrs:{size:"mini"},on:{click:e.goBack}},[e._v("返回")])],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.manyTableData,function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-checkbox-group",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}},e._l(t.attr_vals,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e,border:""}})}),1)],1)}),1),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.onlyTableData,function(t){return a("el-form-item",{key:t.atte_id,attrs:{label:t.attr_name}},[a("el-input",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)}),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{staticStyle:{width:"380px"},attrs:{action:e.uploadURL,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"list-type":"picture","on-success":e.handleSuccess,headers:e.headerObj,beforeUpload:e.beforeFormatUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[a("quill-editor",{model:{value:e.addForm.goods_instroduce,callback:function(t){e.$set(e.addForm,"goods_instroduce",t)},expression:"addForm.goods_instroduce"}}),a("el-button",{staticClass:"btnAdd",staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("添加商品")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"40%"},on:{"update:visible":function(t){e.previewVisible=t}}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.previewPath}})])],1)},n=[],s=(a("7f7f"),a("20d6"),a("28a5"),a("96cf"),a("3b8d")),i=a("60bb"),o=a.n(i),l={data:function(){return{activeIndex:"0",addForm:{goods_name:"",goods_price:"",goods_weight:"",goods_number:"",goods_cat:[],pic:[],goods_introduce:"",attrs:[]},addFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_cat:[{required:!0,message:"请选择商品分类",trigger:"blur"}]},cateList:[],cateProps:{label:"cat_name",value:"cat_id",children:"children"},manyTableData:[],onlyTableData:[],uploadURL:"http://127.0.0.1:8888/api/private/v1/upload",headerObj:{Authorization:window.sessionStorage.getItem("token")},previewPath:"",previewVisible:!1,formatError:!1}},computed:{cateId:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null}},created:function(){this.getGateList()},methods:{goBack:function(){this.$router.push("/goods")},getGateList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories");case 2:t=e.sent,a=t.data,200===a.meta.status?this.cateList=a.data:this.$message({message:a.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleChange:function(){3!==this.addForm.goods_cat.length&&(this.addForm.goods_cat=[])},beforeTabLeave:function(e,t){if("0"==t&&3!==this.addForm.goods_cat.length)return this.$message({message:"请先选择商品分类",type:"error"}),!1},tabClicked:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("1"!=this.activeIndex){e.next=8;break}return e.next=3,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:"many"}});case 3:t=e.sent,a=t.data,200===a.meta.status&&(a.data.map(function(e){e.attr_vals=0==e.attr_vals.length?[]:e.attr_vals.split(" ")}),this.manyTableData=a.data),e.next=14;break;case 8:if("2"!=this.activeIndex){e.next=14;break}return e.next=11,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:"only"}});case 11:r=e.sent,n=r.data,200===n.meta.status&&(this.onlyTableData=n.data);case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handlePreview:function(e){this.previewPath=e.response.data.url,this.previewVisible=!0},handleSuccess:function(e){var t={pic:e.data.tmp_path};this.addForm.pic.push(t)},handleRemove:function(e){if(!this.formatError){var t=e.response.data.temp_path,a=this.addForm.pics.findIndex(function(e){return e.pic==t});this.addForm.pics.splic(a,1)}},beforeFormatUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a="jpg"==t&&"JPG",r="png"==t&&"PNG",n="jpeg"==t&&"JPEG";if(!a&&!r&&!n)return this.formatError=!0,this.$message({message:"图片仅支持jpg,png,jpeg格式",type:"warning"}),!1},add:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=13;break}return r=o.a.cloneDeep(e.addForm),r.goods_cat=r.goods_cat.join(","),e.manyTableData.map(function(t){var a={attr_id:t.attr_id,attr_value:t.attr_vals.join(" ")};e.addForm.attrs.push(a)}),e.onlyTableData.map(function(t){var a={attr_id:t.attr_id,attr_value:t.attr_vals};e.addForm.attrs.push(a)}),r.attrs=e.addForm.attrs,t.next=8,e.$http.post("goods",r);case 8:n=t.sent,s=n.data,201===s.meta.status?(e.$message({message:s.meta.msg,type:"success"}),e.$router.push("/goods")):e.$message({message:s.meta.msg,type:"error"}),t.next=14;break;case 13:e.$message({message:"请填写必要的表单项",type:"error"});case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports},"7f7f":function(e,t,a){var r=a("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&r(n,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},9744:function(e,t,a){"use strict";var r=a("4588"),n=a("be13");e.exports=function(e){var t=String(n(this)),a="",s=r(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},a652:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("参数列表")])],1),a("el-card",[a("el-alert",{attrs:{"show-icon":"",title:"注意：只允许为第三级分类设置相关参数！",type:"warning",closable:!1}}),a("el-row",{staticClass:"cata_select"},[a("el-col",[a("span",[e._v("选择商品分类：")]),a("el-cascader",{attrs:{size:"small",expandTrigger:"hover",options:e.cateList,props:e.cateProps},on:{change:e.handleChange},model:{value:e.selectedCateKeys,callback:function(t){e.selectedCateKeys=t},expression:"selectedCateKeys"}})],1)],1),a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled},on:{click:function(t){e.addDialog=!0}}},[e._v("添加参数")]),a("el-table",{attrs:{data:e.manyTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,function(r,n){return a("el-tag",{key:n,staticClass:"tags",attrs:{closable:""},on:{close:function(a){return e.tagClose(n,t.row)}}},[e._v("\n              "+e._s(r)+"\n              ")])}),t.row.tagInputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.tagInputValue,callback:function(a){e.$set(t.row,"tagInputValue",a)},expression:"scope.row.tagInputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("\n                + New Tag\n              ")])]}}])}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row.attr_id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.removeParams(t.row.attr_id)}}},[e._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled},on:{click:function(t){e.addDialog=!0}}},[e._v("添加属性")]),a("el-table",{attrs:{data:e.onlyTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,function(r,n){return a("el-tag",{key:n,staticClass:"tags",attrs:{closable:""},on:{close:function(a){return e.tagClose(n,t.row)}}},[e._v("\n              "+e._s(r)+"\n              ")])}),t.row.tagInputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.tagInputValue,callback:function(a){e.$set(t.row,"tagInputValue",a)},expression:"scope.row.tagInputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("\n                + New Tag\n              ")])]}}])}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"属性名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row.attr_id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.removeParams(t.row.attr_id)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"添加"+e.titleText,visible:e.addDialog,width:"40%"},on:{"update:visible":function(t){e.addDialog=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.titleText,prop:"attr_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.attr_name,callback:function(t){e.$set(e.addForm,"attr_name",t)},expression:"addForm.attr_name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addParams}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改"+e.titleText,visible:e.editDialog,width:"40%"},on:{"update:visible":function(t){e.editDialog=t},close:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.titleText,prop:"attr_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editForm.attr_name,callback:function(t){e.$set(e.editForm,"attr_name",t)},expression:"editForm.attr_name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.editParams}},[e._v("确 定")])],1)],1)],1)},n=[],s=(a("28a5"),a("96cf"),a("3b8d")),i={data:function(){return{cateList:[],selectedCateKeys:[],cateProps:{value:"cat_id",label:"cat_name",children:"children"},activeName:"many",manyTableData:[],onlyTableData:[],addDialog:!1,addForm:{attr_name:""},addFormRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},editDialog:!1,editForm:{},editFormRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]}}},created:function(){this.getCateList()},computed:{isBtnDisabled:function(){return 3!==this.selectedCateKeys.length},cateId:function(){return 3===this.selectedCateKeys.length?this.selectedCateKeys[2]:null},titleText:function(){return"many"==this.activeName?"动态参数":"静态属性"}},methods:{getCateList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories");case 2:t=e.sent,a=t.data,200===a.meta.status?this.cateList=a.data:this.$message({message:a.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleChange:function(){this.getParamsData()},handleTabClick:function(){this.getParamsData()},getParamsData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return 3!==this.selectedCateKeys.length&&(this.selectedCateKeys=[],this.manyTableData=[],this.onlyTableData=[]),e.next=3,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:this.activeName}});case 3:t=e.sent,a=t.data,200==a.meta.status?(a.data.map(function(e){e.attr_vals=e.attr_vals?e.attr_vals.split(" "):[],e.tagInputVisible=!1,e.tagInputValue=""}),"many"==this.activeName?this.manyTableData=a.data:this.onlyTableData=a.data):this.$message({message:a.meta.msg,type:"error"});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addParams:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,e.$http.post("categories/".concat(e.cateId,"/attributes"),{attr_name:e.addForm.attr_name,attr_sel:e.activeName});case 3:r=t.sent,n=r.data,201===n.meta.status?(e.$message({message:n.meta.msg,type:"success"}),e.addDialog=!1,e.getParamsData()):e.$message({message:n.meta.msg,type:"error"});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories/".concat(this.cateId,"/attributes/").concat(t),{params:{attr_sel:this.activeName}});case 2:a=e.sent,r=a.data,200===r.meta.status?(this.editForm=r.data,this.editDialog=!0):this.$message({message:r.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editParams:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,e.$http.put("categories/".concat(e.cateId,"/attributes/").concat(e.editForm.attr_id),{attr_name:e.editForm.attr_name,attr_sel:e.activeName});case 3:r=t.sent,n=r.data,200===n.meta.status?(e.$message({message:n.meta.msg,type:"success"}),e.editDialog=!1,e.getParamsData()):e.$message({message:n.meta.msg,type:"error"});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},removeParams:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该参数,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(a=e.sent,"confirm"!=a){e.next=11;break}return e.next=6,this.$http.delete("categories/".concat(this.cateId,"/attributes/").concat(t));case 6:r=e.sent,n=r.data,200===n.meta.status?(this.$message({message:n.meta.msg,type:"success"}),this.getParamsData()):this.$message({message:n.meta.msg,type:"error"}),e.next=12;break;case 11:this.$message({message:"已取消删除",type:"info"});case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleInputConfirm:function(e){if(0==e.tagInputValue.trim().length)return e.tagInputValue="",void(e.tagInputVisible=!1);e.attr_vals.push(e.tagInputValue.trim()),e.tagInputValue="",e.tagInputVisible=!1,this.saceAttrVals(e)},saceAttrVals:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("categories/".concat(this.cateId,"/attributes/").concat(t.attr_id),{attr_name:t.attr_name,attr_sel:t.attr_sel,attr_vals:t.attr_vals.join(" ")});case 2:a=e.sent,r=a.data,200===r.meta.status?this.$message({message:r.meta.msg,type:"success"}):this.$message({message:r.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),showInput:function(e){var t=this;e.tagInputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},tagClose:function(e,t){t.attr_vals.splice(e,1),this.saceAttrVals(t)}}},o=i,l=(a("b2f2"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"472df7e6",null);t["default"]=c.exports},aae3:function(e,t,a){var r=a("d3f4"),n=a("2d95"),s=a("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},b0c5:function(e,t,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b2f2:function(e,t,a){"use strict";var r=a("2104"),n=a.n(r);n.a},ca6c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分类")])],1),a("el-card",[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.ShowAddCateDialog}},[e._v("添加分类")])],1),a("tree-table",{staticClass:"treeTable",attrs:{data:e.tableData,columns:e.columns,"selection-type":!1,"expand-type":!1,"show-index":"","index-text":"#",border:"","show-row-hover":!1},scopedSlots:e._u([{key:"isOk",fn:function(e){return[0==e.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"order",fn:function(t){return[0===t.row.cat_level?a("el-tag",{attrs:{size:"mini"}},[e._v("一级")]):1===t.row.cat_level?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("二级")]):a("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("三级")])]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.showEditCateDialog(t.row.cat_id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.removeCate(t.row.cat_id)}}},[e._v("删除")])]}}])}),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.addCateDialog,width:"40%"},on:{"update:visible":function(t){e.addCateDialog=t},close:e.addCateClose}},[a("el-form",{ref:"addCateFormRef",attrs:{model:e.addCateForm,rules:e.addCateFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"cat_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addCateForm.cat_name,callback:function(t){e.$set(e.addCateForm,"cat_name",t)},expression:"addCateForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类："}},[a("el-cascader",{attrs:{size:"small","expand-trigger":"hover",options:e.parentCateList,props:e.cascaderProps,clearable:"","change-on-select":""},on:{change:e.parentCateChanged},model:{value:e.selectedKeys,callback:function(t){e.selectedKeys=t},expression:"selectedKeys"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addCateDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addCate}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑分类",visible:e.editCateDialog,width:"40%"},on:{"update:visible":function(t){e.editCateDialog=t}}},[a("el-form",{ref:"editCateFormRef",attrs:{model:e.editCateForm,rules:e.editCateFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"cat_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editCateForm.cat_name,callback:function(t){e.$set(e.editCateForm,"cat_name",t)},expression:"editCateForm.cat_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editCateDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.editCate}},[e._v("确 定")])],1)],1)],1)},n=[],s=(a("96cf"),a("3b8d")),i=a("f8d6"),o={data:function(){return{queryInfo:{type:3,pagenum:1,pagesize:5},columns:[{label:"分类名称",prop:"cat_name",minWidth:"220px"},{label:"是否有效",minWidth:"160px",type:"template",template:"isOk"},{label:"排序",minWidth:"160px",type:"template",template:"order"},{label:"操作",width:"180px",type:"template",template:"opt"}],addCateDialog:!1,addCateForm:{cat_name:"",cat_pid:0,cat_level:0},addCateFormRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},parentCateList:[],cascaderProps:{value:"cat_id",label:"cat_name",children:"children"},selectedKeys:[],editCateDialog:!1,editCateForm:{},editCateFormRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},mixins:[i["a"]],created:function(){this.getList()},methods:{getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories",{params:this.queryInfo});case 2:t=e.sent,a=t.data,200===a.meta.status?(this.tableData=a.data.result,this.total=a.data.total):this.$message({message:a.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addCateClose:function(){this.$refs.addCateFormRef.resetFields(),this.selectedKeys=[],this.addCateForm.cat_level=0,this.addCateForm.cat_pid=0},ShowAddCateDialog:function(){this.getParentCateList(),this.addCateDialog=!0},getParentCateList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories",{params:{type:2}});case 2:t=e.sent,a=t.data,200===a.meta.status?this.parentCateList=a.data:this.$message({message:a.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),parentCateChanged:function(){this.selectedKeys.length>0?(this.addCateForm.cat_pid=this.selectedKeys[this.selectedKeys.length-1],this.addCateForm.cat_level=this.selectedKeys.length):(this.addCateForm.cat_pid=0,this.addCateForm.cat_level=0)},addCate:function(){var e=this;this.$refs.addCateFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,e.$http.post("categories",e.addCateForm);case 3:r=t.sent,n=r.data,201===n.meta.status?(e.$message({message:n.meta.msg,type:"success"}),e.getList(),e.addCateDialog=!1):e.$message({message:n.meta.msg,type:"error"});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},showEditCateDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories/"+t);case 2:a=e.sent,r=a.data,200===r.meta.status?(this.editCateForm=r.data,this.editCateDialog=!0):this.$message({message:r.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editCate:function(){var e=this;this.$refs.editCateFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,e.$http.put("categories/"+e.editCateForm.cat_id,{cat_name:e.editCateForm.cat_name});case 3:r=t.sent,n=r.data,200===n.meta.status?(e.$message({message:n.meta.msg,type:"success"}),e.editCateDialog=!1,e.getList()):e.$message({message:n.meta.msg,type:"error"});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},removeCate:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(a=e.sent,"confirm"!=a){e.next=9;break}return e.next=6,this.$http.delete("categories/"+t);case 6:r=e.sent,n=r.data,200===n.meta.status?(this.$message({message:n.meta.msg,type:"success"}),this.getList()):this.$message({message:n.meta.msg,type:"error"});case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},l=o,c=(a("1d45"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"9e48c744",null);t["default"]=u.exports},cd1c:function(e,t,a){var r=a("e853");e.exports=function(e,t){return new(r(e))(t)}},e853:function(e,t,a){var r=a("d3f4"),n=a("1169"),s=a("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},efde:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"small",placeholder:"请输入内容",clearable:""},on:{clear:e.getList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getList},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.goAddPage}},[e._v("添加商品")])],1)],1),a("el-table",{attrs:{border:"",stripe:"",data:e.tableData}},[a("el-table-column",{attrs:{type:"index"}}),e._l(e.tableColumn,function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.name,width:e.width}})}),a("el-table-column",{attrs:{label:"创建时间",prop:"add_time",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(t.row.add_time)}})]}}])}),a("el-table-column",{attrs:{width:"130px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row.goods_id)}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.removeGoods(t.row.goods_id)}}})]}}])})],2),a("el-row",[a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"商品编辑",visible:e.editGoodsDialog,width:"40%"},on:{"update:visible":function(t){e.editGoodsDialog=t},close:e.editGoodsDialogClosed}},[a("el-form",{ref:"editGoodsFormRef",attrs:{model:e.editGoodsForm,rules:e.editGoodsFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editGoodsForm.goods_name,callback:function(t){e.$set(e.editGoodsForm,"goods_name",t)},expression:"editGoodsForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"goods_price"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editGoodsForm.goods_price,callback:function(t){e.$set(e.editGoodsForm,"goods_price",t)},expression:"editGoodsForm.goods_price"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"goods_number"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editGoodsForm.goods_number,callback:function(t){e.$set(e.editGoodsForm,"goods_number",t)},expression:"editGoodsForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"重量",prop:"goods_weight"}},[a("el-input",{attrs:{size:"small"},model:{value:e.editGoodsForm.goods_weight,callback:function(t){e.$set(e.editGoodsForm,"goods_weight",t)},expression:"editGoodsForm.goods_weight"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editGoodsDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.editGoods}},[e._v("确 定")])],1)],1)],1)},n=[],s=(a("96cf"),a("3b8d")),i=a("f8d6"),o=a("3686"),l={data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:10},tableColumn:[{name:"goods_name",label:"商品名称"},{name:"goods_price",label:"商品价格(元)",width:"100px"},{name:"goods_weight",label:"重量",width:"80px"},{name:"goods_number",label:"数量",width:"80px"}],editGoodsForm:"",editGoodsDialog:!1,editGoodsFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入重量",trigger:"blur"}],goods_number:[{required:!0,message:"请输入数量",trigger:"blur"}]}}},mixins:[i["a"]],created:function(){this.getList()},methods:{getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("goods",{params:this.queryInfo});case 2:t=e.sent,a=t.data,200===a.meta.status?(a.data.goods.map(function(e){e.add_time=o["a"].Format(e.add_time)}),this.tableData=a.data.goods,this.total=a.data.total):this.$message({message:a.meta.msg,type:"error"});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeGoods:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(e){return e});case 2:if(a=e.sent,"confirm"!=a){e.next=11;break}return e.next=6,this.$http.delete("goods/"+t);case 6:r=e.sent,n=r.data,200===n.meta.status?(this.$message({message:n.meta.msg,type:"success"}),this.getList()):this.$message({message:n.meta.msg,type:"error"}),e.next=12;break;case 11:this.$message({message:"已取消删除",type:"info"});case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("goods/"+t);case 2:a=e.sent,r=a.data,200===r.meta.status&&(this.editGoodsForm=r.data,this.editGoodsDialog=!0);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editGoodsDialogClosed:function(){this.$refs.editGoodsFormRef.resetFields()},editGoods:function(){var e=this;this.$refs.editGoodsFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,e.$http.put("goods/"+e.editGoodsForm.goods_id,{goods_name:e.editGoodsForm.goods_name,goods_price:e.editGoodsForm.goods_price,goods_number:e.editGoodsForm.goods_number,goods_weight:e.editGoodsForm.goods_weight,goods_cat:e.editGoodsForm.goods_cat});case 3:r=t.sent,n=r.data,200===n.meta.status?(e.$message({message:n.meta.msg,type:"success"}),e.editGoodsDialog=!1,e.getList()):e.$message({message:n.meta.msg,type:"error"});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},goAddPage:function(){this.$router.push("/goods/add")}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"357a3a16",null);t["default"]=d.exports},f576:function(e,t,a){"use strict";var r=a("5ca1"),n=a("2e08"),s=a("a25f"),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);r(r.P+r.F*i,"String",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},f8d6:function(e,t,a){"use strict";t["a"]={data:function(){return{total:0,tableData:[],queryInfo:{query:"",pagenum:1,pagesize:5}}},computed:{},methods:{handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getList()}}}}}]);
//# sourceMappingURL=Cate_Params_List_Add.a1ce32b7.js.map